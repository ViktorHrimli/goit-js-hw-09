{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAIMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,KAAMH,SAASC,cAAc,sBAC7BG,OAAQJ,SAASC,cAAc,yBAG7BI,EAAQ,KACRC,EAAO,KACPC,EAAS,KACTC,EAAW,EACXC,EAAU,KACVC,EAAW,KAqCf,SAASC,EAAaC,EAAUV,IAWhC,SAAuBW,EAAUX,GAC/B,OAAO,IAAIY,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEI,SAAAN,EAAUX,UAEpBc,EAAO,CAAEG,SAAAN,EAAUX,cAhBvBkB,CAAcR,EAAUV,GACrBmB,MAAK,SAAAC,G,IAAGC,EAAQD,EAARH,SAAUK,EAAKF,EAALpB,MACjBuB,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAwCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,UAEvEK,OAAM,SAAAP,G,IAAGC,EAAQD,EAARH,SAAUK,EAAKF,EAALpB,MAClBuB,EAAA7B,GAAS8B,OAAOI,QAAQ,sBAAqCF,OAAfL,EAAS,QAAYK,OAANJ,EAAM,UAiBzE1B,EAAKI,MAAM6B,iBAAiB,UApCT,SAAAC,GACjB3B,EAAQ,EACRA,EAAQ4B,OAAOD,EAAEE,OAAOC,UAmC1BrC,EAAKK,KAAK4B,iBAAiB,UAjCT,SAAAC,GAChB1B,EAAO,EACPA,EAAO2B,OAAOD,EAAEE,OAAOC,UAgCzBrC,EAAKM,OAAO2B,iBAAiB,UA9BT,SAAAC,GAClBzB,EAAS,EACTA,EAAS0B,OAAOD,EAAEE,OAAOC,UA6B3BrC,EAAKC,KAAKgC,iBAAiB,UA5DN,SAAAK,GACnBA,EAAMC,iBACNC,cAAc5B,GACdF,EAAW,EACXC,EAAUJ,EAEVkC,YAAW,WACT5B,EAAaH,EAAUC,GACvBC,EAAW8B,aAAY,WACrB/B,GAAWH,EAEPE,IAAaD,EAAS,GACxB+B,cAAc5B,GAIhBC,EADAH,GAAY,EACWC,KACtBH,KACFD,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n// import\n\n// Refs\nconst refs = {\n  form: document.querySelector('.form'),\n  delay: document.querySelector('input[name=\"delay\"]'),\n  step: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n};\n// CONSTANTS\nlet DELAY = null;\nlet STEP = null;\nlet AMOUNT = null;\nlet position = 1;\nlet timerMS = null;\nlet timerInt = null;\n\n// func\nconst getValueForm = event => {\n  event.preventDefault();\n  clearInterval(timerInt);\n  position = 1;\n  timerMS = DELAY;\n\n  setTimeout(() => {\n    alertPromise(position, timerMS);\n    timerInt = setInterval(() => {\n      timerMS += STEP;\n\n      if (position === AMOUNT - 1) {\n        clearInterval(timerInt);\n      }\n\n      position += 1;\n      alertPromise(position, timerMS);\n    }, STEP);\n  }, DELAY);\n};\n\nconst delayInput = e => {\n  DELAY = 0;\n  DELAY = Number(e.target.value);\n};\nconst stepInput = e => {\n  STEP = 0;\n  STEP = Number(e.target.value);\n};\nconst amountInput = e => {\n  AMOUNT = 0;\n  AMOUNT = Number(e.target.value);\n};\n\nfunction alertPromise(position, delay) {\n  createPromise(position, delay)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n\n// promis\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\n// listener\nrefs.delay.addEventListener('change', delayInput);\nrefs.step.addEventListener('change', stepInput);\nrefs.amount.addEventListener('change', amountInput);\nrefs.form.addEventListener('submit', getValueForm);\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","delay","step","amount","$ce04d3a99e08e73b$var$DELAY","$ce04d3a99e08e73b$var$STEP","$ce04d3a99e08e73b$var$AMOUNT","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$timerMS","$ce04d3a99e08e73b$var$timerInt","$ce04d3a99e08e73b$var$alertPromise","position1","position2","Promise","resolve","reject","Math","random","position","$ce04d3a99e08e73b$var$createPromise","then","param","_$position","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure","addEventListener","e","Number","target","value","event","preventDefault","clearInterval","setTimeout","setInterval"],"version":3,"file":"03-promises.3da3ce2b.js.map"}